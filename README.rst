==========
pymchelper
==========

.. image:: https://img.shields.io/pypi/v/pymchelper.svg
        :target: https://pypi.python.org/pypi/pymchelper

.. image:: https://img.shields.io/travis/DataMedSci/pymchelper.svg
        :target: https://travis-ci.org/DataMedSci/pymchelper

.. image:: https://readthedocs.org/projects/pymchelper/badge/?version=latest
        :target: https://readthedocs.org/projects/pymchelper/?badge=latest
        :alt: Documentation Status

========
Overview
========

.. start-badges

.. list-table::
    :stub-columns: 1

    * - docs
      - |docs|
    * - tests
      - |travis| |appveyor|
    * - package
      - |version| |downloads| |wheel| |supported-versions| |supported-implementations|

.. |docs| image:: https://readthedocs.org/projects/pymchelper/badge/?style=flat
    :target: https://readthedocs.org/projects/pymchelper
    :alt: Documentation Status

.. |travis| image:: https://travis-ci.org/DataMedSci/pymchelper.svg?branch=master
    :alt: Travis-CI Build Status
    :target: https://travis-ci.org/DataMedSci/pymchelper

.. |appveyor| image:: https://ci.appveyor.com/api/projects/status/github/DataMedSci/pymchelper?branch=master&svg=true
    :alt: Appveyor Build Status
    :target: https://ci.appveyor.com/project/grzanka/pymchelper

.. |version| image:: https://img.shields.io/pypi/v/pymchelper.svg?style=flat
    :alt: PyPI Package latest release
    :target: https://pypi.python.org/pypi/pymchelper

.. |downloads| image:: https://img.shields.io/pypi/dm/pymchelper.svg?style=flat
    :alt: PyPI Package monthly downloads
    :target: https://pypi.python.org/pypi/pymchelper

.. |wheel| image:: https://img.shields.io/pypi/wheel/pymchelper.svg?style=flat
    :alt: PyPI Wheel
    :target: https://pypi.python.org/pypi/pymchelper

.. |supported-versions| image:: https://img.shields.io/pypi/pyversions/pymchelper.svg?style=flat
    :alt: Supported versions
    :target: https://pypi.python.org/pypi/pymchelper

.. |supported-implementations| image:: https://img.shields.io/pypi/implementation/pymchelper.svg?style=flat
    :alt: Supported implementations
    :target: https://pypi.python.org/pypi/pymchelper

.. end-badges

Python toolkit for SHIELDHIT and Fluka


Installation
============

Official version ::

    pip install pymchelper

Development version directly from GIT::

    pip install versioneer
    pip install git+https://github.com/DataMedSci/pymchelper.git

In case you don't have administrator rights, add ``--user`` flag to ``pip`` command.
In this situation converter will be probably installed in ``~/.local/bin`` directory.

To be able to use ``tripcube`` converter install also ``pytrip98`` Python package using ``pip``.

To upgrade, type::

    pip install -U pymchelper

To uninstall, simply use::

    pip uninstall pymchelper

Documentation
=============


To convert single ``dose.bdo`` file to a PNG image run::

    convertmc dose.bdo plot_dose.png --converter image

Let us assume you ran SHIELDHIT on a cluster specifying 5 different estimators in ``detect.dat``
and running 100 parallel jobs. As an output you have 500 ``.bdo`` files.
convertmc converter can automatically discover which files belong to which estimator and automatically
generate 5 output files.
To convert all ``*.bdo`` files to a set of PNG images you shouldn't specify output file name, just run::

    convertmc --many "*.bdo" --converter image

The same output format as in standard convertmc converter,
shipped with SHIELDHIT code can be achieved with ``--converter standard`` option.
In this case ASCII file with 4 columns will be saved.

Reduced ASCII output (i.e. only two columns for 1D scoring) can be produced with ``--converter plotdata`` option.
Converters can be combined. Following command will generate ASCII data which can be digested by gnuplot and
accompanying gnuplot scripts::

    convertmc --many "*.bdo" --converter plotdata gnuplot


TRiP98 binary ``.dos`` cubes (two files: ASCII ``.hed`` and binary ``.dos``) can be generated with ``--converter tripcube``.
It will produce output only for ``MSH`` and ``VOXMESH`` SHIELDHIT scorers.

More on https://pymchelper.readthedocs.io/


Features
--------

* reading ``*.bdo`` files generated by SHIELDHIT code
* reading ``*_fort*`` files generated by Fluka
* writing PNG images (1 and 2D plots)
* writing tabulated ASCII files
* writing gnuplot scripts
* writing binary files with ``.dos`` cubes in TRiP98 format

Credits
-------

This package was created with Cookiecutter_ and the `grzanka/cookiecutter-pip-docker-versioneer`_ project template.

.. _Cookiecutter: https://github.com/audreyr/cookiecutter
.. _`grzanka/cookiecutter-pip-docker-versioneer`: https://github.com/grzanka/cookiecutter-pip-docker-versioneer
